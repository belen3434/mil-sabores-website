<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registro de Usuario</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header>
  <nav class="nav-container">
    <ul class="nav-list">
      <li class="nav-item"><a href="home.html" class="nav-link">Inicio</a></li>
      <li class="nav-item"><a href="catalogo.html" class="nav-link">Cat치logo</a></li>
      <li class="nav-item"><a href="contacts.html" class="nav-link">Contacto</a></li>
      <li class="nav-item"><a href="login.html" class="nav-link">Iniciar Sesi칩n</a></li>
      <li class="nav-item"><a href="registroUsuario.html" class="nav-link">Registrar Usuario</a></li>
    </ul>
  </nav>
</header>
  <main class="container-custom bg-crema-pastel p-4">
    <header>
      <h1>Registro de Usuario</h1>
    </header>

    <form id="registroForm" novalidate>
      <section>
        <label for="nombreCompleto">Nombre Completo <sup>*</sup></label>
        <input type="text" id="nombreCompleto" name="nombreCompleto" maxlength="100" placeholder="Ingrese su nombre completo" required />
      </section>

      <section>
        <label for="correo">Correo Electr칩nico <sup>*</sup></label>
        <input type="email" id="correo" name="correo" maxlength="100" placeholder="ejemplo@dominio.com" pattern="^[a-z0-9._%+-]+@(duoc\.cl|profesor\.duoc\.cl|gmail\.com)$" required />
        <small>Solo se permiten correos @duoc.cl, @profesor.duoc.cl, @gmail.com</small>
      </section>
<p></p>
      <section>
        <label for="contrasena">Contrase침a <sup>*</sup></label>
        <input type="password" id="contrasena" name="contrasena" minlength="4" maxlength="10" placeholder="4 a 10 caracteres" required />
      </section>

      <section>
        <label for="confirmarContrasena">Confirmar Contrase침a <sup>*</sup></label>
        <input type="password" id="confirmarContrasena" name="confirmarContrasena" minlength="4" maxlength="10" placeholder="Repita la contrase침a" required />
      </section>

      <section>
        <label for="telefono">Tel칠fono (opcional)</label>
        <input type="tel" id="telefono" name="telefono" placeholder="Opcional" />
      </section>
<p></p>
      <section>
        <label for="region">Regi칩n <sup>*</sup></label>
        <select id="region" name="region" required>
          <option value="">-- Seleccione la regi칩n --</option>
          <option value="RM">Regi칩n Metropolitana de Santiago</option>
          <option value="Linares">Linares</option>
          <option value="Araucania">Regi칩n de la Araucan칤a</option>
          <option value="Nuble">Regi칩n de 칌uble</option>
        </select>
      </section>
<p></p>
      <section>
        <label for="comuna">Comuna <sup>*</sup></label>
        <select id="comuna" name="comuna" required>
          <option value="">-- Seleccione la comuna --</option>
          <!-- Las opciones cambiar치n din치micamente seg칰n regi칩n en validaci칩n JS -->
        </select>
      </section>
<p></p>
      <button type="submit" class="button">Registrar</button>
    </form>

    <div id="mensajeExito" class="success-msg" role="alert" style="margin-top: 1rem;">
      游꿀 Registro realizado con 칠xito 游꿀
    </div>
  </main>

  <script>
    // Referencias
    const form = document.getElementById('registroForm');
    const mensajeExito = document.getElementById('mensajeExito');
    const region = document.getElementById('region');
    const comuna = document.getElementById('comuna');

    // Mapa de comunas por regi칩n simple para ejemplo
    const comunasPorRegion = {
      'RM': ['Santiago', 'Puente Alto', 'Las Condes'],
      'Linares': ['Colb칰n', 'Longav칤', 'Villa Alegre'],
      'Araucania': ['Temuco', 'Villarrica', 'Puc칩n'],
      'Nuble': ['Chill치n', 'Bulnes', 'Yungay']
    };

    // Cambiar opciones comuna seg칰n regi칩n
    region.addEventListener('change', () => {
      const seleccion = region.value;
      comuna.innerHTML = '<option value="">-- Seleccione la comuna --</option>';
      if (comunasPorRegion[seleccion]) {
        comunasPorRegion[seleccion].forEach(c => {
          const option = document.createElement('option');
          option.value = c;
          option.textContent = c;
          comuna.appendChild(option);
        });
      }
    });

    // Validaci칩n del formulario
    form.addEventListener('submit', function (event) {
      event.preventDefault();
      // Validar que contrase침as coincidan
      const pass = form.contrasena.value;
      const confirmPass = form.confirmarContrasena.value;
      if (pass !== confirmPass) {
        alert('Las contrase침as no coinciden');
        return;
      }

      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      // Si pasa todas validaciones
      mensajeExito.classList.remove('d-none');
      form.reset();
      comuna.innerHTML = '<option value="">-- Seleccione la comuna --</option>'; // reset comuna
      region.focus();
    });
  </script>
</body>
</html>
